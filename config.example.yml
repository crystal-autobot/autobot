# Autobot Configuration
# Copy to ~/.config/autobot/config.yml or ./config.yml

# LLM Providers - configure at least one
providers:
  anthropic:
    api_key: "" # or set ANTHROPIC_API_KEY env var
  openai:
    api_key: ""
  deepseek:
    api_key: ""
  groq:
    api_key: ""
  gemini:
    api_key: ""
  openrouter:
    api_key: ""
  vllm:
    api_base: "http://localhost:8000"
    api_key: ""

# Agent settings
agents:
  defaults:
    model: "anthropic/claude-sonnet-4-5"
    max_tokens: 8192
    temperature: 0.7
    max_tool_iterations: 20
    memory_window: 50
    workspace: "~/.config/autobot/workspace"

# Chat channels
channels:
  telegram:
    enabled: false
    token: ""
    # Security: deny-by-default. Specify user IDs/usernames, or use ["*"] to allow all
    allow_from: []  # Empty = deny all, ["user123", "@alice"] = allowlist, ["*"] = allow all
    custom_commands:
      macros: {}
      scripts: {}

  slack:
    enabled: false
    bot_token: ""
    app_token: ""
    mode: "socket"
    group_policy: "mention"
    dm:
      # Security: disabled by default. Enable only for trusted users.
      enabled: false
      policy: "allowlist"  # "allowlist" (secure) | "open" (allow anyone)
      allow_from: []       # Empty with allowlist = deny all DMs

  whatsapp:
    enabled: false
    bridge_url: "ws://localhost:3001"
    # Security: deny-by-default. Phone numbers or use ["*"] to allow all
    allow_from: []

# Tool settings
tools:
  web:
    search:
      api_key: "" # Brave Search API key
      max_results: 5
  exec:
    timeout: 60
    # Shell access: full_shell_access and restrict_to_workspace are MUTUALLY EXCLUSIVE
    # - restrict_to_workspace: true  + full_shell_access: false → Secure (simple commands, sandboxed)
    # - restrict_to_workspace: false + full_shell_access: true  → Full shell (pipes/redirects, no sandbox)
    # - Both true → REJECTED (incompatible)
    full_shell_access: false
  # Security: Restrict file/command operations to workspace directory
  # When true, only simple commands allowed (no pipes/redirects/variables)
  restrict_to_workspace: true

# Cron scheduler
cron:
  enabled: true
  store_path: "~/.config/autobot/cron.json"

# Gateway API
gateway:
  host: "0.0.0.0"
  port: 18790
